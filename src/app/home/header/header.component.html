<div class="iq-top-navbar header-top-sticky">
    <div class="iq-navbar-custom">
    
        <nav class="navbar navbar-expand-lg navbar-light p-0">
         
                       <!--barre de recherche -->

      

           <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
           <i class="ri-menu-3-line"></i>
           </button>

          
           <div class="collapse navbar-collapse" id="navbarSupportedContent" >
              <ul class="navbar-nav ml-auto navbar-list">

                                  <!--icon mte3 messages-->
                 <li class="nav-item iq-full-screen" >
                    <a class="iq-waves-effect" id="btnFullscreen"><i class="ri-fullscreen-line"></i></a>
                 </li>

                 <!--icon mte3 notif-->
                 <li class="nav-item" *ngIf="this.type=='secrétaire'">
                    <a href="#" class="search-toggle iq-waves-effect">
                          <i class="ri-notification-3-fill"></i>
                          <span class="bg-danger dots"></span>
                       </a>



<!-- debut notification-->

                    <div class="iq-sub-dropdown" >
                       <div class="iq-card shadow-none m-0">
                          <div class="iq-card-body p-0 " >
                             <div class="bg-primary p-3">
                                <h5 class="mb-0 text-white"> Demandes Rendez-vous<small class="badge  badge-light float-right pt-1"></small></h5>
                             </div>
                         <a  class="iq-sub-card" >
                            
                                <div class="media align-items-center" *ngFor="let i of rdvs">
                                   <div class="">
                                      <img class="avatar-40 rounded" src="assets/images/user/01.jpg" alt="">
                                   </div>
                                   <div class="media-body ml-3">
                                      <h6 class="mb-0 ">{{i.info.nom}} {{i.info.prenom}}</h6>
                                      
                                      <p class="mb-0"> Le  {{i.date }}   à {{ i.heure}}h </p>
                                      <small class="float-right font-size-12"> <button  class="btn btn-outline-primary mb-3" (click)="accepterRdv(i._id)">Accepter</button>
                                       <button class="btn btn-outline-danger mb-3" (click)="supprimerRdv(i._id)">Refuser</button>
                                </small>
                                   </div>
                                </div>
                             </a>
                           
                           
                          </div>
                       </div>
                    </div>
 <!-- fin notification-->

                 </li>
                 <li *ngIf="this.type=='medecin'" class="nav-item dropdown">
                    <a href="#" class="search-toggle iq-waves-effect">
                       <i class="ri-mail-open-fill"></i>
                       <span class="bg-primary count-mail"></span>
                    </a>
                    <div class="iq-sub-dropdown">
                       <div class="iq-card shadow-none m-0">
                          <div class="iq-card-body p-0 "  >
                             <div class="bg-primary p-3">
                                <h5 class="mb-0 text-white">Tout les Messages<small class="badge  badge-light float-right pt-1">5</small></h5>
                             </div>
                             <a routerLink="messages" class="iq-sub-card" *ngFor="let i of messages"   >
                                <div class="media align-items-center" >
                                   <div class="">
                                      <img class="avatar-40 rounded" src="assets/images/user/01.jpg" alt="">
                                   </div>
                                   <div class="media-body ml-3" routerLink="messages/{{i._id}}" >
                                      <h6 class="mb-0 ">{{i.infoPatient.nom}} {{i.infoPatient.prenom}}</h6>
                                      <small class="float-left font-size-12">{{i.date}}</small>
                                   </div>
                                </div>
                             </a>
                           
                          </div>
                       </div>
                    </div>
                 </li>
              </ul>
           </div>
           <ul class="navbar-list">
              <li>
                 <!--  -->
                 <a href="#" class="search-toggle iq-waves-effect d-flex align-items-center">
                  <img *ngIf="this.type=='secrétaire'" src="assets/images/user/11.png">
                  <img *ngIf="this.type=='admin'" src="assets/images/user/16.jpg">

                  <img *ngIf="this.type=='medecin'" src="http://localhost:3000/medecin/affichePhoto/{{image}}" class="img-fluid rounded mr-3" alt="user">
                                   <!--  esm el acteur connecté-->

                  <div class="caption">
                       <h6 class="mb-0 line-height">{{utilisateur.nom }} {{utilisateur.prenom}}</h6>
                       <h6 *ngIf="this.type=='admin'" class="mb-0 line-height">Compte Administrateur</h6>

                       <span class="font-size-12">Connecté</span>
                    </div>
                 </a>
                 <!-- ki nenzel al esm el acteur connecté-->

                 <div class="iq-sub-dropdown iq-user-dropdown">
                    <div class="iq-card shadow-none m-0">
                       <div class="iq-card-body p-0 ">
                          <div class="bg-primary p-3">
                           <h5 *ngIf="this.type=='secrétaire'"  class="mb-0 text-white line-height">Bonjour {{utilisateur.nom }} !</h5>

                           <h5 *ngIf="this.type=='medecin'"  class="mb-0 text-white line-height">Bonjour !</h5>
                             <h5 *ngIf="this.type=='admin'"  class="mb-0 text-white line-height">Bonjour Admin !</h5>

                             <!-- <span class="text-white font-size-12">Connecté</span> -->
                          </div>
                          <a *ngIf="this.type=='medecin'" routerLink="profile/{{utilisateur._id}}" class="iq-sub-card iq-bg-primary-hover">
                             <div class="media align-items-center">
                                <div class="rounded iq-card-icon iq-bg-primary">
                                   <i class="ri-file-user-line"></i>
                                </div>
                                <div class="media-body ml-3" >
                                   <h6 class="mb-0 ">Mon profil</h6>
                                   <p class="mb-0 font-size-12">Regarder les informations personnel</p>
                                </div>
                             </div>
                          </a>
                          <a  *ngIf="this.type=='medecin'" class="iq-sub-card iq-bg-primary-hover">
                             <div class="media align-items-center">
                                <div class="rounded iq-card-icon iq-bg-primary">
                                   <i class="ri-profile-line"></i>
                                </div>
                                <div *ngIf="this.type=='medecin'" class="media-body ml-3" routerLink="modifierProfile/{{utilisateur._id}}">
                                   <h6 class="mb-0 ">Modifier Profil</h6>
                                   <p class="mb-0 font-size-12">Modifier les détails personnel</p>
                                </div>
                             </div>
                          </a>
                          <!-- <a  *ngIf="this.type=='medecin'" class="iq-sub-card iq-bg-primary-hover">
                           <div class="media align-items-center">
                              <div class="rounded iq-card-icon iq-bg-primary">
                                 <i class="ri-profile-line"></i>
                              </div>
                              <div *ngIf="this.type=='medecin'" class="media-body ml-3" routerLink="modifierProfile/{{utilisateur._id}}">
                                 <h6 class="mb-0 ">Modifier mot de passe</h6>
                                 <p class="mb-0 font-size-12">Modifier les détails personnel</p>
                              </div>
                           </div>
                        </a> -->
                        <a *ngIf="this.type=='medecin'" class="iq-sub-card iq-bg-primary-hover">
                           <div class="media align-items-center">
                              <div class="rounded iq-card-icon iq-bg-primary">
                                 <i class="ri-lock-line"></i>
                              </div>
                              <div class="media-body ml-3" routerLink="changerMotdpasse/{{utilisateur._id}}">
                                 <h6 class="mb-0 ">Changer mot de passe</h6>
                                 <p class="mb-0 font-size-12">Contrôlez votre paramètre de confidentialité.</p>
                              </div>
                           </div>
                        </a>
                          <div class="d-inline-block w-100 text-center p-3">
                             <a class="bg-primary iq-sign-btn"  role="button" (click)="logOut() " routerLink="" >Déconnecté<i class="ri-login-box-line ml-2"></i></a>
                          </div>
                       </div>
                    </div>
                 </div>
              </li>
           </ul>
        </nav>

     </div>
</div>
